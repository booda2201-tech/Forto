
<!-- <nav class="navbar navbar-expand-lg navbar-light shadow-sm">
  <div class="container-fluid navbar-width position-relative">
    <a routerlink="/" class="navbar-brand" href="/">
      <img src="" alt="Logo" class="logo"></a>

    <div id="navbarSupportedContent"
    class="collapse navbar-collapse justify-content-between">
    <ul class="navbar-nav mx-auto mb-2 mb-lg-0 px-0">
      <li class="nav-item mx-3">
        <a routerlink="/home"
          routerlinkactive="active"
          class="nav-link active" href="/home"></a>
      </li>
    </ul>
    <ul class="navbar-nav d-flex gap-1 flex-row justify-content-around align-items-center px-0">
      <li class="nav-item pointer">
        <a routerlink=""
          routerlinkactive=""
          class="nav-link" href=""> عمل طلب </a>
      </li>
    <li class="nav-item mx-3">
        <a routerlink="/home"
          routerlinkactive="active"
          class="nav-link active" href="/home">طلبات المستخدم</a>
      </li>
    </ul>
  </div>
</div>
</nav> -->

<!-- <nav class="navbar">
  <div class="container">
<div class="checkbtn" (click)="toggleMenu()">
      <span>☰</span>
    </div>
    <div class="logo" routerLink="/">
      <img src="../../../assets/imeg/logo forto.png" alt="#"> </div>

<ul class="nav-links" [class.active]="isMenuOpen">
          <li><a href="#" routerLinkActive="active-link" routerLink="/requests"> الطلبات </a></li>
          <li><a href="#" routerLinkActive="active-link" routerLink="/create-order">اطلب هنا </a></li>
    </ul>

  </div>
</nav> -->


<nav class="navbar" dir="rtl">
  <div class="container">
    <div class="checkbtn" (click)="toggleMenu()" *ngIf="userRole$ | async">
        <span>☰</span>
      </div>

    <div class="logo" [routerLink]="getLogoRoute()">
      <img src="../../../assets/imeg/logo forto.png" alt="Forto Logo">
    </div>

    <div class="overlay" *ngIf="isMenuOpen" (click)="toggleMenu()"></div>

    <ul class="nav-links" [class.active]="isMenuOpen" *ngIf="{ role: userRole$ | async } as data">

      <li class="welcome-msg" style="color: #4a4a4a; padding: 0 15px; font-weight: bold;">
          مرحباً، {{ getDisplayName() }}
      </li>

      <ng-container *ngIf="data.role === 'admin'">
        <li>
          <a routerLink="/admin/services"
              routerLinkActive="active-link"
              [routerLinkActiveOptions]="{exact: true}"
              (click)="isMenuOpen = false"> الرئيسية </a>
        </li>
      </ng-container>


      <ng-container *ngIf="data.role === 'cashier'">
        <li>
          <a routerLink="/cashier/new-reservation"
              routerLinkActive="active-link"
              [routerLinkActiveOptions]="{exact: true}"
              (click)="isMenuOpen = false"> الرئيسية </a>
        </li>
<!-- 
        <li>
          <a routerLink="/cashier/messages"
              routerLinkActive="active-link"
              (click)="isMenuOpen = false"> الرسائل </a>
        </li> -->
      </ng-container>


      <ng-container *ngIf="data.role === 'worker'">
        <li><a routerLink="/worker-page" routerLinkActive="active-link"(click)="isMenuOpen = false" >مهامي</a></li>

      </ng-container>

         <li *ngIf="data.role">
        <a (click)="logout()" style="cursor: pointer; color: #ff4d4d; font-weight: bold;">تسجيل الخروج
        </a>
      </li>
      <li *ngIf="!data.role">
        <a routerLink="/login"(click)="isMenuOpen = false">تسجيل الدخول</a>
      </li>
    </ul>
  </div>
</nav>

