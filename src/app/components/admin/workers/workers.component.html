
<!-- <div class="contt">
<div class="container-fluid py-4" dir="rtl">
  <div class="row g-4">

    <div class="col-md-8">
      <div class="d-flex align-items-center mb-4 gap-2">
        <h4 class="fw-bold mb-0">قائمة العمال
          <i class="bi bi-people-fill mx-1 text-orange"></i>
        </h4>
        <span class="text-muted">({{ workers.length }} عمال)</span>
      </div>

      <div class="row g-3">
        <div class="col-md-4" *ngFor="let worker of workers">
          <div class="card border-0 shadow-sm text-center p-3 h-100 worker-card" style="border-radius: 15px;">
            <div class="icon-circle mx-auto mb-3">
              <i class="bi bi-person-badge fs-2 text-orange"></i>
            </div>
            <h6 class="fw-bold mb-1">{{ worker.name }}</h6>
            <p class="text-muted small mb-1">{{ worker.phone }}</p>
            <p class="text-orange fw-bold mb-2">{{ worker.monthlySalary }} ج.م / شهر</p>


            <div class="d-flex justify-content-center gap-2 mt-auto">
              <button
                    class="btn btn-sm btn-light-warning text-warning border-0 p-2"
                    style="border-radius: 8px;"
                    data-bs-toggle="modal" data-bs-target="#addWorkerModal"
                    (click)="openEditModal(worker)"
              >

                <i class="bi bi-pencil-square"></i>
              </button>
              <button class="btn btn-sm btn-light-danger text-danger border-0 p-2" style="border-radius: 8px;"
                      (click)="deleteWorker(worker.id)">
                        <i class="bi bi-trash"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-md-4">
      <div class="card border-0 shadow-sm overflow-hidden" style="border-radius: 15px;">
        <div class="bg-orange p-3 text-center">
          <h5 class="text-white fw-bold mb-0">إضافة عامل جديد</h5>
        </div>
        <div class="card-body p-4">
          <div class="mb-3">
            <label class="form-label small fw-bold">اسم العامل *</label>
            <input type="text" #wName class="form-control bg-light border-0 py-2" placeholder="أدخل الاسم">
          </div>
          <div class="mb-3">
            <label class="form-label small fw-bold">رقم الهاتف *</label>
            <input type="text" #wPhone class="form-control bg-light border-0 py-2" placeholder="05xxxxxxxx">
          </div>
          <div class="row mb-3">
            <div class="col-6">
              <label class="form-label small fw-bold">العمر *</label>
              <input type="number" #wAge class="form-control bg-light border-0 py-2" placeholder="25">
            </div>
            <div class="col-6">
              <label class="form-label small fw-bold">الراتب الشهري  (ج.م) *</label>
              <input type="number" #wMonthly class="form-control bg-light border-0 py-2" placeholder="0">
            </div>
          </div>


          <button class="btn btn-orange w-100 py-2 fw-bold shadow-sm"
                  (click)="saveWorker(wName, wPhone, wAge, wMonthly)">
            إضافة للقائمة +
          </button>
        </div>
      </div>
    </div>



  </div>
</div>
</div>


<div class="modal fade" id="addWorkerModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content border-0 shadow">
      <div class="modal-header border-0 pb-0">
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
        <div class="modal-body p-4 text-end">
          <div class="text-center mb-4">
            <h5 class="fw-bold mb-1"> تعديل بيانات العامل </h5>
            <small class="text-muted"> تحديث ملف العامل </small>
          </div>
          <div class="row g-3">
            <div class="col-md-6">
              <label class="form-label small fw-bold">الاسم الكامل *</label>
              <input type="text" [(ngModel)]="selectedWorker.name" class="form-control bg-light border-1" placeholder="اسم العامل">
            </div>
            <div class="col-md-6">
              <label class="form-label small fw-bold">رقم الهاتف *</label>
              <input type="text" [(ngModel)]="selectedWorker.phone" class="form-control bg-light border-1" placeholder="رقم الهاتف">
            </div>
            <div class="col-md-6">
              <label class="form-label small fw-bold">العمر</label>
              <input type="number" [(ngModel)]="selectedWorker.age" class="form-control bg-light border-1" placeholder="العمر">
            </div>
            <div class="col-md-6">
              <label class="form-label small fw-bold">الراتب الشهري ($)</label>
              <input type="number" [(ngModel)]="selectedWorker.monthlySalary" class="form-control bg-light border-1" placeholder="الراتب الشهري">
            </div>
          </div>
          <button class="btn btn-orange w-100 py-2 mt-4 fw-bold" (click)="saveWorkerChanges()" data-bs-dismiss="modal">
            تحديث
          </button>
        </div>
    </div>
  </div>
</div> -->











<div class="contt">
<div class="pos-wrapper" dir="rtl">
  <div class="container-fluid py-3">
    <div class="row g-3">

      <div class="col-md-8">
        <div class="d-flex align-items-center justify-content-between mb-3 bg-white p-3 rounded-3 shadow-sm">
          <h4 class="fw-bold mb-0">
            <i class="bi bi-people-fill text-orange me-2"></i>
            قائمة العمال
          </h4>
          <span class="badge bg-light text-dark fs-6">{{ workers.length }} عامل</span>
        </div>


          <div class="row g-3">
            <div class="col-xl-4 col-lg-6" *ngFor="let worker of workers">
              <div class="card border-0 shadow-sm worker-card h-100">
                <div class="card-body p-3 d-flex flex-column">
                  <div class="d-flex align-items-center mb-3">
                    <div class="icon-avatar ms-3">
                      <i class="bi bi-person-fill text-orange"></i>
                    </div>
                    <div class="text-end">
                      <h6 class="fw-bold mb-0 text-truncate" style="max-width: 150px;">{{ worker.name }}</h6>
                      <small class="text-muted">{{ worker.phone }}</small>
                    </div>
                  </div>

                  <div class="info-badge mb-3">
                    <div class="d-flex justify-content-between align-items-center">
                      <span class="small text-muted">العمر:</span>
                      <span class="fw-bold text-dark"> {{ worker.age }} </span>
                    </div>

                    <div class="d-flex justify-content-between align-items-center mt-2">
                      <span class="small text-muted">الراتب الشهري:</span>
                      <span class="fw-bold text-orange">{{ worker.monthlySalary }} ج.م</span>
                    </div>
                  </div>


                  <div class="d-flex gap-2 mt-auto">
                    <button class="btn btn-action-edit flex-grow-1" (click)="openEditModal(worker)" data-bs-toggle="modal" data-bs-target="#addWorkerModal">
                      تعديل <i class="bi bi-pencil-square ms-1"></i>
                    </button>
                    <button class="btn btn-action-delete" (click)="deleteWorker(worker.id)">
                      <i class="bi bi-trash"></i>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

      </div>

      <div class="col-md-4">
        <div class="card border-0 shadow-sm sticky-form">
          <div class="bg-orange p-3 text-center rounded-top-4">
            <h5 class="text-white fw-bold mb-0">إضافة عامل جديد</h5>
          </div>
          <div class="card-body p-4">
            <div class="mb-3 text-end">
              <label class="form-label small fw-bold"><i class="bi bi-person-fill text-orange mx-1"></i>  اسم العامل *</label>
              <input type="text" #wName class="form-control pos-input" placeholder="أدخل الاسم">
            </div>
            <div class="mb-3 text-end">
              <label class="form-label small fw-bold"><i class="bi bi-telephone-fill text-orange mx-1"></i>  رقم الهاتف *</label>
              <input type="text" #wPhone class="form-control pos-input" placeholder="05xxxxxxxx">
            </div>
            <div class="row mb-4">
              <div class="col-6 text-end">
                <label class="form-label small fw-bold"><i class="bi bi-calendar-check text-orange mx-1"></i>  العمر *</label>
                <input type="number" #wAge class="form-control pos-input" placeholder="25">
              </div>
              <div class="col-6 text-end">
                <label class="form-label small fw-bold"><i class="bi bi-cash-stack text-orange mx-1"></i>  الراتب (ج.م) *</label>
                <input type="number" #wMonthly class="form-control pos-input" placeholder="0">
              </div>
            </div>

            <button class="btn btn-orange w-100 py-3 fw-bold shadow btn-save-pos"
                    (click)="saveWorker(wName, wPhone, wAge, wMonthly)">
              إضافة للقائمة +
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</div>



<div class="modal fade" id="addWorkerModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content border-0 shadow-lg" style="border-radius: 20px;">
      <div class="modal-header border-0 pb-0">
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body p-4 text-end">
        <div class="text-center mb-4">
          <div class="icon-avatar mx-auto mb-2 bg-light-orange">
              <i class="bi bi-pencil-fill text-orange"></i>
          </div>
          <h5 class="fw-bold mb-0">تعديل بيانات العامل</h5>
        </div>
        <div class="row g-3">
          <div class="col-md-6">
            <label class="form-label small fw-bold"><i class="bi bi-person-fill text-orange mx-1"></i>   الاسم الكامل *</label>
            <input type="text" [(ngModel)]="selectedWorker.name" class="form-control pos-input">
          </div>
          <div class="col-md-6">
            <label class="form-label small fw-bold"><i class="bi bi-telephone-fill text-orange mx-1"></i>   رقم الهاتف *</label>
            <input type="text" [(ngModel)]="selectedWorker.phone" class="form-control pos-input">
          </div>
          <div class="col-md-6">
            <label class="form-label small fw-bold"><i class="bi bi-calendar-check text-orange mx-1"></i>   العمر</label>
            <input type="number" [(ngModel)]="selectedWorker.age" class="form-control pos-input">
          </div>
          <div class="col-md-6">
            <label class="form-label small fw-bold"><i class="bi bi-cash-stack text-orange mx-1"></i>   الراتب الشهري</label>
            <input type="number" [(ngModel)]="selectedWorker.monthlySalary" class="form-control pos-input">
          </div>
        </div>
        <button class="btn btn-orange w-100 py-3 mt-4 fw-bold shadow" (click)="saveWorkerChanges()" data-bs-dismiss="modal">
          تحديث البيانات
        </button>
      </div>
    </div>
  </div>
</div>
